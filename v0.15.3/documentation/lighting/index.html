<!DOCTYPE html><HTML lang="en"><head><meta charset="UTF-8"/><meta content="width=device-width, initial-scale=1" name="viewport"/><link href="../../libs/highlight/github.min.css" rel="stylesheet"/><link href="../../css/franklin.css" rel="stylesheet"/><link href="../../css/minimal-mistakes.css" rel="stylesheet"/><link href="../../css/makie.css" rel="stylesheet"/><link href="../../assets/icon_transparent.png" rel="icon"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><title>Lighting</title></head><body class="layout--single"><div class="site-container"><div class="masthead"><div class="masthead__inner-wrap"><div class="masthead__menu"><nav class="greedy-nav" id="site-nav"><a class="title-icon" href="../.."><img src="../../assets/makie_logo_transparent.svg"/></a><ul class="visible-links"><li class="masthead__menu-item"><a href="https://github.com/JuliaPlots/Makie.jl"><img class="masthead-icon" src="../../assets/GitHub-Mark-64px.png"/></a></li><li class="masthead__menu-item"><a href="../../examples/">Examples</a></li><li class="masthead__menu-item"><a href="../../tutorials/">Tutorials</a></li><li class="masthead__menu-item"><a href="..">Documentation</a></li></ul><button class="greedy-nav__toggle" type="button"><span class="visually-hidden">Toggle menu</span><div class="navicon"></div></button><ul class="hidden-links hidden"></ul></nav></div></div></div><div id="main" role="main"><div id="overlay"></div><div id="navbar-container"><div id="navbar"><form action="../../search/index.html" id="lunrSearchForm" name="lunrSearchForm"><input class="search-input" name="q" placeholder="Search docs" type="text"/></form><h1>Navigation</h1><ul><li><div class="tocitem-container"><a href="../..">Home</a></div></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-2"><i class="docs-chevron"></i></label><a href="../../examples">Examples</a></div><ul><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-2-1"><i class="docs-chevron"></i></label><a href="../../examples/layoutables">Layoutables &amp; Widgets</a></div><ul><li><div class="tocitem-container"><a href="../../examples/layoutables/axis">Axis</a></div></li><li><div class="tocitem-container"><a href="../../examples/layoutables/axis3">Axis3</a></div></li><li><div class="tocitem-container"><a href="../../examples/layoutables/box">Box</a></div></li><li><div class="tocitem-container"><a href="../../examples/layoutables/button">Button</a></div></li><li><div class="tocitem-container"><a href="../../examples/layoutables/colorbar">Colorbar</a></div></li><li><div class="tocitem-container"><a href="../../examples/layoutables/gridlayout">GridLayout</a></div></li><li><div class="tocitem-container"><a href="../../examples/layoutables/intervalslider">IntervalSlider</a></div></li><li><div class="tocitem-container"><a href="../../examples/layoutables/label">Label</a></div></li><li><div class="tocitem-container"><a href="../../examples/layoutables/legend">Legend</a></div></li><li><div class="tocitem-container"><a href="../../examples/layoutables/lscene">LScene</a></div></li><li><div class="tocitem-container"><a href="../../examples/layoutables/menu">Menu</a></div></li><li><div class="tocitem-container"><a href="../../examples/layoutables/slider">Slider</a></div></li><li><div class="tocitem-container"><a href="../../examples/layoutables/textbox">Textbox</a></div></li><li><div class="tocitem-container"><a href="../../examples/layoutables/toggle">Toggle</a></div></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-2-2"><i class="docs-chevron"></i></label><a href="../../examples/plotting_functions">Plotting functions</a></div><ul><li><div class="tocitem-container"><a href="../../examples/plotting_functions/abline">abline!</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/arrows">arrows</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/band">band</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/barplot">barplot</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/boxplot">boxplot</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/contour">contour</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/contourf">contourf</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/crossbar">crossbar</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/density">density</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/errorbars">errorbars</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/heatmap">heatmap</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/hist">hist</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/hvlines">hlines! and vlines!</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/hvspan">hspan! and vspan!</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/image">image</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/lines">lines</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/linesegments">linesegments</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/mesh">mesh</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/meshscatter">meshscatter</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/poly">poly</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/rangebars">rangebars</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/scatter">scatter</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/scatterlines">scatterlines</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/series">series</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/stairs">stairs</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/stem">stem</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/streamplot">streamplot</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/surface">surface</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/text">text</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/violin">violin</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/volume">volume</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/volumeslices">volumeslices</a></div></li><li><div class="tocitem-container"><a href="../../examples/plotting_functions/wireframe">wireframe</a></div></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-3"><i class="docs-chevron"></i></label><a href="../../tutorials">Tutorials</a></div><ul><li><div class="tocitem-container"><a href="../../tutorials/basic-tutorial">Basic Tutorial</a></div></li><li><div class="tocitem-container"><a href="../../tutorials/layout-tutorial">Layout Tutorial</a></div></li></ul></li><li><input checked="" class="collapse-toggle" id="menuitem-4" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-4"><i class="docs-chevron"></i></label><a href="..">Documentation</a></div><ul><li><div class="tocitem-container"><a href="../api_reference">API reference</a></div></li><li><div class="tocitem-container"><a href="../animation">Animations</a></div></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-4-3"><i class="docs-chevron"></i></label><a href="../backends_and_output">Backends &amp; Output</a></div><ul><li><div class="tocitem-container"><a href="../backends_and_output/figure_size">Exporting a Figure with physical dimensions</a></div></li><li><div class="tocitem-container"><a href="../backends_and_output/wglmakie">JSServe and WGLMakie</a></div></li></ul></li><li><div class="tocitem-container"><a href="../cameras">Cameras</a></div></li><li><div class="tocitem-container"><a href="../colors">Colors</a></div></li><li><div class="tocitem-container"><a href="../events">Events</a></div></li><li><div class="tocitem-container"><a href="../faq">Frequently Asked Questions</a></div></li><li><div class="tocitem-container"><a href="../figure">Figures</a></div></li><li><div class="tocitem-container"><a href="../inspector">Inspecting Data</a></div></li><li><div class="tocitem-container"><a href="../latex">LaTeX</a></div></li><li><div class="tocitem-container"><a href="../layoutables">Layoutables</a></div></li><li><div class="tocitem-container"><a href="../layouting">How layouts work</a></div></li><li><div class="tocitem-container"><a class="active" href="">Lighting</a></div><ul class="page-content"><li><a href="#lighting">Lighting</a></li><li><ul><li><a href="#ssao">SSAO</a></li><li><a href="#matcap">Matcap</a></li><li><a href="#examples">Examples</a></li></ul></li></ul></li><li><div class="tocitem-container"><a href="../news">News</a></div></li><li><div class="tocitem-container"><a href="../nodes">Observables &amp; Interaction</a></div></li><li><div class="tocitem-container"><a href="../plot_method_signatures">Plot Method Signatures</a></div></li><li><div class="tocitem-container"><a href="../recipes">Plot Recipes</a></div></li><li><div class="tocitem-container"><a href="../remote">Remote servers</a></div></li><li><div class="tocitem-container"><a href="../scenes">Scenes</a></div></li><li><input class="collapse-toggle" id="menuitem-4-20" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-4-20"><i class="docs-chevron"></i></label><a href="../theming">Theming</a></div><ul><li><div class="tocitem-container"><a href="../theming/predefined_themes">Predefined themes</a></div></li></ul></li></ul></li></ul></div></div><div class="franklin-content"><h1 id="lighting"><a class="header-anchor" href="#lighting">Lighting</a></h1><p>For 3D scenes, <code>GLMakie</code> offers several attributes to control the lighting of the scene. These are set per plot.</p><ul><li><p><code>ambient::Vec3f</code>: Objects should never be completely dark; we use an ambient light to simulate background lighting, and give the object some color. Each element of the vector represents the intensity of color in R, G or B respectively.</p></li><li><p><code>diffuse::Vec3f</code>: Simulates the directional impact which the light source has on the plot object. This is the most visually significant component of the lighting model; the more a part of an object faces the light source, the brighter it becomes. Each element of the vector represents the intensity of color in R, G or B respectively.</p></li><li><p><code>specular::Vec3f</code>: Simulates the bright spot of a light that appears on shiny objects. Specular highlights are more inclined to the color of the light than the color of the object. Each element of the vector represents the intensity of color in R, G or B respectively.</p></li><li><p><code>shininess::Float32</code>: Controls the shininess of the object. Higher shininess reduces the size of the highlight, and makes it sharper. This value must be positive.</p></li><li><p><code>lightposition::Vec3f</code>: The location of the main light source; by default, the light source is at the location of the camera.</p></li></ul><p>You can find more information on how these were implemented <a href="https://learnopengl.com/Lighting/Basic-Lighting">here</a>.</p><h2 id="ssao"><a class="header-anchor" href="#ssao">SSAO</a></h2><p>GLMakie also implements <a href="https://learnopengl.com/Advanced-Lighting/SSAO"><em>screen-space ambient occlusion</em></a>, which is an algorithm to more accurately simulate the scattering of light. There are a couple of controllable scene attributes nested within the <code>SSAO</code> toplevel attribute:</p><ul><li><p><code>radius</code> sets the range of SSAO. You may want to scale this up or down depending on the limits of your coordinate system</p></li><li><p><code>bias</code> sets the minimum difference in depth required for a pixel to be occluded. Increasing this will typically make the occlusion effect stronger.</p></li><li><p><code>blur</code> sets the (pixel) range of the blur applied to the occlusion texture. The texture contains a (random) pattern, which is washed out by blurring. Small <code>blur</code> will be faster, sharper and more patterned. Large <code>blur</code> will be slower and smoother. Typically <code>blur = 2</code> is a good compromise.</p></li></ul><div class="admonition note"><p class="admonition-title">Note</p><p>The SSAO postprocessor is turned off by default to save on resources. To turn it on, set <code>GLMakie.enable_SSAO[] = true</code>, close any existing GLMakie window and reopen it.</p></div><h2 id="matcap"><a class="header-anchor" href="#matcap">Matcap</a></h2><p>A matcap (material capture) is a texture which is applied based on the normals of a given mesh. They typically include complex materials and lighting and offer a cheap way to apply those to any mesh. You may pass a matcap via the <code>matcap</code> attribute of a <code>mesh</code>, <code>meshscatter</code> or <code>surface</code> plot. Setting <code>shading = false</code> is suggested. You can find a lot matcaps <a href="https://github.com/nidorx/matcaps">here</a>.</p><h2 id="examples"><a class="header-anchor" href="#examples">Examples</a></h2><pre><code class="language-julia">using GLMakie

xs = -10:0.1:10
ys = -10:0.1:10
zs = [10 * (cos(x) * cos(y)) * (.1 + exp(-(x^2 + y^2 + 1)/10)) for x in xs, y in ys]

# Or use an LScene within a Figure
scene = Scene()
surface!(
    scene, xs, ys, zs, colormap = (:white, :white),

    # Light comes from (0, 0, 15), i.e the sphere
    lightposition = Vec3f(0, 0, 15),
    # base light of the plot only illuminates red colors
    ambient = Vec3f(0.3, 0, 0),
    # light from source (sphere) illuminates yellow colors
    diffuse = Vec3f(0.4, 0.4, 0),
    # reflections illuminate blue colors
    specular = Vec3f(0, 0, 1.0),
    # Reflections are sharp
    shininess = 128f0
)
mesh!(scene, Sphere(Point3f(0, 0, 15), 1f0), color=RGBf(1, 0.7, 0.3))
scene</code></pre><p></p><p><a id="example_7901054439886589418"><img alt="" src="../../assets/documentation/lighting/code/output/example_7901054439886589418.png"/></a></p><pre><code class="language-julia">using GLMakie
GLMakie.enable_SSAO[] = true
close(GLMakie.global_gl_screen()) # close any open screen

# Alternatively:
# fig = Figure()
# scene = LScene(fig[1, 1], scenekw = (SSAO = (radius = 5.0, blur = 3), show_axis=false, camera=cam3d!))
# scene.scene[:SSAO][:bias][] = 0.025

scene = Scene(show_axis = false)

# SSAO attributes are per scene
scene[:SSAO][:radius][] = 5.0
scene[:SSAO][:blur][] = 3
scene[:SSAO][:bias][] = 0.025

box = Rect3(Point3f(-0.5), Vec3f(1))
positions = [Point3f(x, y, rand()) for x in -5:5 for y in -5:5]
meshscatter!(scene, positions, marker=box, markersize=1, color=:lightblue, ssao=true)
scene</code></pre><p></p><p><a id="example_15984047583680302105"><img alt="" src="../../assets/documentation/lighting/code/output/example_15984047583680302105.png"/></a></p><pre><code class="language-julia">using FileIO
using GLMakie
catmesh = FileIO.load(assetpath("cat.obj"))
gold = FileIO.load(download("https://raw.githubusercontent.com/nidorx/matcaps/master/1024/E6BF3C_5A4719_977726_FCFC82.png"))

mesh(catmesh, matcap=gold, shading=false)</code></pre><p></p><p><a id="example_11281650883990564318"><img alt="" src="../../assets/documentation/lighting/code/output/example_11281650883990564318.png"/></a></p><div class="page-foot"><div class="copyright">
    © Makie.jl. Last modified: October 16, 2021. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
      <p>These docs were autogenerated using Makie: v0.15.3, GLMakie: v0.4.7, CairoMakie: v0.6.6, WGLMakie: v0.4.7</p></div></div></div></div><div class="page__footer"><footer><div class="page__footer-follow"><ul class="social-icons"><li><a href="https://twitter.com/MakiePlots" rel="nofollow noopener noreferrer"><i aria-hidden="true" class="fab fa-fw fa-twitter-square"></i> Twitter</a></li><li><a href="https://github.com/JuliaPlots/Makie.jl" rel="nofollow noopener noreferrer"><i aria-hidden="true" class="fab fa-fw fa-github"></i> GitHub</a></li></ul></div><div class="page__footer-copyright">© Makie.jl. Powered by <a href="https://github.com/tlienart/Franklin.jl">Franklin</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div></footer></div></div><script src="../../libs/navbar.js"></script><script src="../../libs/lunr/lunr.min.js"></script><script src="../../libs/lunr/lunr_index.js"></script><script src="../../libs/lunr/lunrclient.min.js"></script><script crossorigin="anonymous" defer="" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" src="https://use.fontawesome.com/releases/v5.8.2/js/all.js"></script><script src="../../libs/highlight/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: '    '});</script></body></HTML>