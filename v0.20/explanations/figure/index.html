<!DOCTYPE html><HTML lang="en"><head><meta charset="UTF-8"/><meta content="width=device-width, initial-scale=1" name="viewport"/><link href="../../libs/highlight/github.min.css" rel="stylesheet"/><link href="../../css/franklin.css" rel="stylesheet"/><link href="../../css/minimal-mistakes.css" rel="stylesheet"/><link href="../../css/makie.css" rel="stylesheet"/><link href="../../assets/icon_transparent.png" rel="icon"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://files.stork-search.net/releases/v1.4.2/basic.css" rel="stylesheet"/><style>
    .stork-wrapper {
      width:99%
    }
    .stork-wrapper .stork-results {
      max-height: 42vh;
    }
</style><title>Figures Â· Makie</title></head><body class="layout--single"><div class="site-container"><div class="masthead"><div class="masthead__inner-wrap"><div class="masthead__menu"><nav class="greedy-nav" id="site-nav"><a class="title-icon" href="../.."><img src="../../assets/makie_logo_transparent.svg"/></a><ul class="visible-links"><li class="masthead__menu-item"><a href="https://github.com/JuliaPlots/Makie.jl"><img class="masthead-icon" src="../../assets/GitHub-Mark-64px.png"/></a></li><li class="masthead__menu-item"><a href="../../reference/">Reference</a></li><li class="masthead__menu-item"><a href="../../tutorials/">Tutorials</a></li><li class="masthead__menu-item"><a href="../../how-to/">How-Tos</a></li><li class="masthead__menu-item"><a href="..">Explanations</a></li><li class="masthead__menu-item"><a href="../../api/">API</a></li><li class="masthead__menu-item"><a href="../../news/">News</a></li><li class="masthead__menu-item" id="masthead-search-button"><script>
                            function toggleSearchOverlay(){
                                const overlay = document.querySelector("#makiesearch-overlay-container");
                                overlay.classList.toggle("hidden");
                                overlay.querySelector("input").focus();
                                overlay.onclick = function(e){
                                    if (e.target !== this){
                                        return
                                    }
                                    this.classList.toggle("hidden");
                                };
                            }
                        </script><button onclick="toggleSearchOverlay()"><i class="fas fa-search"></i> Search</button></li></ul><button class="greedy-nav__toggle" type="button"><span class="visually-hidden">Toggle menu</span><div class="navicon"></div></button><ul class="hidden-links hidden"></ul></nav></div></div></div><div id="main" role="main"><div id="overlay"></div><div class="hidden" id="makiesearch-overlay-container"><div id="makiesearch-overlay-container-inner"><div id="makiesearch-overlay"></div></div></div><div class="content-table-hidden" id="content-table-container"><button id="on-this-page" onclick="toggle_content_table_visibility()">On this page</button><script>
            function toggle_content_table_visibility(){
              const c = document.querySelector("#content-table-container");
              const ct = c.querySelector("#content-table");
              const vh = window.visualViewport.height;
              ct.style.height = `${Math.min(ct.scrollHeight, 0.66*vh)}px`;
              c.classList.toggle("content-table-hidden");
            }
          </script><div id="content-table"><ul class="page-content"><li><a href="#creating_a_figure">Creating a Figure</a></li><li><a href="#placing_blocks_into_a_figure">Placing Blocks into a Figure</a></li><li><a href="#gridpositions_and_gridsubpositions">GridPositions and GridSubpositions</a></li><li><a href="#figure_padding">Figure padding</a></li><li><a href="#retrieving_objects_from_a_figure">Retrieving Objects From A Figure</a></li><li><a href="#figure_size_and_units">Figure size and units</a></li><li><ul><li><a href="#defaults_of_px_per_unit_and_pt_per_unit">Defaults of <code>px_per_unit</code> and <code>pt_per_unit</code></a></li><li><a href="#matching_figure_and_font_sizes_to_documents">Matching figure and font sizes to documents</a></li></ul></li></ul></div></div><div id="navbar-container"><div id="navbar"><div id="makiesearch"></div><ul><li><div class="tocitem-container"><a href="../..">Home</a></div></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-2"><i class="docs-chevron"></i></label><a href="../../reference">Reference</a></div><ul><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-2-1"><i class="docs-chevron"></i></label><a href="../../reference/blocks">Blocks</a></div><ul><li><div class="tocitem-container"><a href="../../reference/blocks/axis">Axis</a></div></li><li><div class="tocitem-container"><a href="../../reference/blocks/axis3">Axis3</a></div></li><li><div class="tocitem-container"><a href="../../reference/blocks/box">Box</a></div></li><li><div class="tocitem-container"><a href="../../reference/blocks/button">Button</a></div></li><li><div class="tocitem-container"><a href="../../reference/blocks/colorbar">Colorbar</a></div></li><li><div class="tocitem-container"><a href="../../reference/blocks/gridlayout">GridLayout</a></div></li><li><div class="tocitem-container"><a href="../../reference/blocks/intervalslider">IntervalSlider</a></div></li><li><div class="tocitem-container"><a href="../../reference/blocks/label">Label</a></div></li><li><div class="tocitem-container"><a href="../../reference/blocks/legend">Legend</a></div></li><li><div class="tocitem-container"><a href="../../reference/blocks/lscene">LScene</a></div></li><li><div class="tocitem-container"><a href="../../reference/blocks/menu">Menu</a></div></li><li><div class="tocitem-container"><a href="../../reference/blocks/polaraxis">PolarAxis</a></div></li><li><div class="tocitem-container"><a href="../../reference/blocks/slider">Slider</a></div></li><li><div class="tocitem-container"><a href="../../reference/blocks/slidergrid">SliderGrid</a></div></li><li><div class="tocitem-container"><a href="../../reference/blocks/textbox">Textbox</a></div></li><li><div class="tocitem-container"><a href="../../reference/blocks/toggle">Toggle</a></div></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-2-2"><i class="docs-chevron"></i></label><a href="../../reference/plots">Plots</a></div><ul><li><div class="tocitem-container"><a href="../../reference/plots/ablines">ablines</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/arc">arc</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/arrows">arrows</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/band">band</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/barplot">barplot</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/boxplot">boxplot</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/bracket">bracket</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/contour">contour</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/contour3d">contour3d</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/contourf">contourf</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/crossbar">crossbar</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/datashader">datashader</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/density">density</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/ecdf">ecdfplot</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/errorbars">errorbars</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/heatmap">heatmap</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/hexbin">hexbin</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/hist">hist</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/hvlines">hlines and vlines</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/hvspan">hspan and vspan</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/image">image</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/lines">lines</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/linesegments">linesegments</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/mesh">mesh</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/meshscatter">meshscatter</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/pie">pie</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/poly">poly</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/qqplot">qqplot and qqnorm</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/rainclouds">rainclouds</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/rangebars">rangebars</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/scatter">scatter</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/scatterlines">scatterlines</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/series">series</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/spy">spy</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/stairs">stairs</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/stem">stem</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/stephist">stephist</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/streamplot">streamplot</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/surface">surface</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/text">text</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/tooltip">tooltip</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/tricontourf">tricontourf</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/triplot">triplot</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/violin">violin</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/volume">volume</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/volumeslices">volumeslices</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/voronoiplot">voronoiplot</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/waterfall">waterfall</a></div></li><li><div class="tocitem-container"><a href="../../reference/plots/wireframe">wireframe</a></div></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-2-3"><i class="docs-chevron"></i></label><a href="../../reference/scene">Scene</a></div><ul><li><div class="tocitem-container"><a href="../../reference/scene/SSAO">SSAO</a></div></li><li><div class="tocitem-container"><a href="../../reference/scene/lighting">Lighting</a></div></li><li><div class="tocitem-container"><a href="../../reference/scene/matcap">Matcap</a></div></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-3"><i class="docs-chevron"></i></label><a href="../../tutorials">Tutorials</a></div><ul><li><div class="tocitem-container"><a href="../../tutorials/aspect-tutorial">Aspect ratio and size control tutorial</a></div></li><li><div class="tocitem-container"><a href="../../tutorials/basic-tutorial">Basic Tutorial</a></div></li><li><div class="tocitem-container"><a href="../../tutorials/layout-tutorial">Layout Tutorial</a></div></li><li><div class="tocitem-container"><a href="../../tutorials/scenes">Scene tutorial</a></div></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-4"><i class="docs-chevron"></i></label><a href="../../how-to">How-Tos</a></div><ul><li><div class="tocitem-container"><a href="../../how-to/draw-boxes-around-subfigures">How to draw boxes around subfigures</a></div></li><li><div class="tocitem-container"><a href="../../how-to/save-figure-with-transparency">How to save a <code>Figure</code> with transparency</a></div></li></ul></li><li><input checked="" class="collapse-toggle" id="menuitem-5" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-5"><i class="docs-chevron"></i></label><a href="..">Explanations</a></div><ul><li><div class="tocitem-container"><a href="../animation">Animations</a></div></li><li><input class="collapse-toggle" id="menuitem-5-2" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-5-2"><i class="docs-chevron"></i></label><a href="../backends">Backends</a></div><ul><li><div class="tocitem-container"><a href="../backends/cairomakie">CairoMakie</a></div></li><li><div class="tocitem-container"><a href="../backends/glmakie">GLMakie</a></div></li><li><div class="tocitem-container"><a href="../backends/rprmakie">RPRMakie</a></div></li><li><div class="tocitem-container"><a href="../backends/wglmakie">WGLMakie</a></div></li></ul></li><li><div class="tocitem-container"><a href="../blocks">Blocks</a></div></li><li><div class="tocitem-container"><a href="../cameras">Cameras</a></div></li><li><div class="tocitem-container"><a href="../colors">Colors</a></div></li><li><div class="tocitem-container"><a href="../events">Events</a></div></li><li><div class="tocitem-container"><a href="../faq">Frequently Asked Questions</a></div></li><li><div class="tocitem-container"><a class="active" href="">Figures</a></div></li><li><div class="tocitem-container"><a href="../fonts">Fonts</a></div></li><li><div class="tocitem-container"><a href="../headless">Headless</a></div></li><li><div class="tocitem-container"><a href="../inspector">Inspecting Data</a></div></li><li><div class="tocitem-container"><a href="../latex">LaTeX</a></div></li><li><div class="tocitem-container"><a href="../layouting">How layouts work</a></div></li><li><div class="tocitem-container"><a href="../nodes">Observables &amp; Interaction</a></div></li><li><div class="tocitem-container"><a href="../plot_method_signatures">Plot Method Signatures</a></div></li><li><div class="tocitem-container"><a href="../recipes">Plot Recipes</a></div></li><li><div class="tocitem-container"><a href="../scenes">Scenes</a></div></li><li><div class="tocitem-container"><a href="../specapi">SpecApi</a></div></li><li><input class="collapse-toggle" id="menuitem-5-19" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-5-19"><i class="docs-chevron"></i></label><a href="../theming">Theming</a></div><ul><li><div class="tocitem-container"><a href="../theming/predefined_themes">Predefined themes</a></div></li></ul></li><li><div class="tocitem-container"><a href="../transparency">Basic transparency</a></div></li></ul></li><li><div class="tocitem-container"><a href="../../api">API</a></div></li><li><div class="tocitem-container"><a href="../../news">Changelog</a></div></li></ul></div></div><div class="franklin-content"><h1 id="figures"><a class="header-anchor" href="#figures">Figures</a></h1><p>The <code>Figure</code> object contains a top-level <code>Scene</code> and a <code>GridLayout</code>, as well as a list of blocks that have been placed into it, like <code>Axis</code>, <code>Colorbar</code>, <code>Slider</code>, <code>Legend</code>, etc.</p><h2 id="creating_a_figure"><a class="header-anchor" href="#creating_a_figure">Creating a Figure</a></h2><p>You can create a figure explicitly with the <code>Figure()</code> function, and set attributes of the underlying scene. The most important one of which is the <code>size</code>.</p><pre><code class="language-julia">f = Figure()
f = Figure(size = (600, 400))</code></pre><p>A figure is also created implicitly when you use simple, non-mutating plotting commands like <code>plot()</code>, <code>scatter()</code>, <code>lines()</code>, etc. Because these commands also create an axis for the plot to live in and the plot itself, they return a compound object <code>FigureAxisPlot</code>, which just stores these three parts. To access the figure you can either destructure that object into its three parts or access the figure field directly.</p><pre><code class="language-julia">figureaxisplot = scatter(rand(100, 2))
figure = figureaxisplot.figure

# destructuring syntax
figure, axis, plot = scatter(rand(100, 2))

# you can also ignore components
figure, = scatter(rand(100, 2))</code></pre><p>You can pass arguments to the created figure in a dict-like object to the special <code>figure</code> keyword:</p><pre><code class="language-julia">scatter(rand(100, 2), figure = (size = (600, 400),))</code></pre><h2 id="placing_blocks_into_a_figure"><a class="header-anchor" href="#placing_blocks_into_a_figure">Placing Blocks into a Figure</a></h2><p>All Blocks take their parent figure as the first argument, then you can place them in the figure layout via indexing syntax.</p><pre><code class="language-julia">f = Figure()
ax = f[1, 1] = Axis(f)
sl = f[2, 1] = Slider(f)</code></pre><h2 id="gridpositions_and_gridsubpositions"><a class="header-anchor" href="#gridpositions_and_gridsubpositions">GridPositions and GridSubpositions</a></h2><p>The indexing syntax of <code>Figure</code> is implemented to work seamlessly with layouting. If you index into the figure, a <code>GridPosition</code> object that stores this indexing operation is created. This object can be used to plot a new axis into a certain layout position in the figure, for example like this:</p><pre><code class="language-julia">using CairoMakie

f = Figure()
pos = f[1, 1]
scatter(pos, rand(100, 2))

pos2 = f[1, 2]
lines(pos2, cumsum(randn(100)))

# you don't have to store the position in a variable first, of course
heatmap(f[1, 3], randn(10, 10))

f</code></pre><p></p><p><a id="example_b4084c4e"><img height="450" src="../../assets/explanations/figure/code/output/example_b4084c4e.png" width="600"/></a></p><p>You can also index further into a <code>GridPosition</code>, which creates a <code>GridSubposition</code>. With <code>GridSubposition</code>s you can describe positions in arbitrarily nested grid layouts. Often, a desired plot layout can only be achieved with nesting, and repeatedly indexing makes this easy.</p><pre><code class="language-julia">using CairoMakie

f = Figure()

f[1, 1] = Axis(f, title = "I'm not nested")
f[1, 2][1, 1] = Axis(f, title = "I'm nested")

# plotting into nested positions also works
heatmap(f[1, 2][2, 1], randn(20, 20))

f</code></pre><p></p><p><a id="example_5b2c65f9"><img height="450" src="../../assets/explanations/figure/code/output/example_5b2c65f9.png" width="600"/></a></p><p>All nested GridLayouts that don't exist yet, but are needed for a nested plotting call, are created in the background automatically.</p><div class="admonition note"><p class="admonition-title">Note</p><p>The <code>GridLayout</code>s that are implicitly created when using <code>GridSubpositions</code> are not directly available in the return value for further manipulation. You can instead retrieve them after the fact with the <code>content</code> function, for example, as explained in the following section.</p></div><h2 id="figure_padding"><a class="header-anchor" href="#figure_padding">Figure padding</a></h2><p>You can change the amount of whitespace (margin) around the figure content with the keyword <code>figure_padding</code>. This takes either a number for all four sides, or a tuple of four numbers for left, right, bottom, top. You can also theme this setting with <code>set_theme!(figure_padding = 30)</code>, for example.</p><pre><code class="language-julia">using CairoMakie

f = Figure(figure_padding = 1, backgroundcolor = :gray80)

Axis(f[1, 1])
scatter!(1:10)

f</code></pre><p></p><p><a id="example_f061b444"><img height="450" src="../../assets/explanations/figure/code/output/example_f061b444.png" width="600"/></a></p><h2 id="retrieving_objects_from_a_figure"><a class="header-anchor" href="#retrieving_objects_from_a_figure">Retrieving Objects From A Figure</a></h2><p>Sometimes users are surprised that indexing into a figure does not retrieve the object placed at that position. This is because the <code>GridPosition</code> is needed for plotting, and returning content objects directly would take away that possibility. Furthermore, a <code>GridLayout</code> can hold multiple objects at the same position, or have partially overlapping content, so it's not well-defined what should be returned given a certain index.</p><p>To retrieve objects from a Figure you can instead use indexing plus the <code>contents</code> or <code>content</code> functions. The <code>contents</code> function returns a Vector of all objects found at the given <code>GridPosition</code>. You can use the <code>exact = true</code> keyword argument so that the position has to match exactly, otherwise objects contained in that position are also returned.</p><pre><code class="language-julia">f = Figure()
box = f[1:3, 1:2] = Box(f)
ax = f[1, 1] = Axis(f)

contents(f[1, 1]) == [ax]
contents(f[1:3, 1:2]) == [box, ax]
contents(f[1:3, 1:2], exact = true) == [box]</code></pre><p>If you use <code>contents</code> on a <code>GridSubposition</code>, the <code>exact</code> keyword only refers to the lowest-level grid layout, all upper levels have to match exactly.</p><pre><code class="language-julia">f = Figure()
ax = f[1, 1][2, 3] = Axis(f)

contents(f[1, 1][2, 3]) == [ax]
contents(f[1:2, 1:2][2, 3]) == [] # the upper level has to match exactly</code></pre><p>Often, you will expect only one object at a certain position and you want to work directly with it, without retrieving it from the Vector returned by <code>contents</code>. In that case, use the <code>content</code> function instead. It works equivalently to <code>only(contents(pos, exact = true))</code>, so it errors if it can't return exactly one object from an exact given position.</p><pre><code class="language-julia">f = Figure()
ax = f[1, 1] = Axis(f)

contents(f[1, 1]) == [ax]
content(f[1, 1]) == ax</code></pre><h2 id="figure_size_and_units"><a class="header-anchor" href="#figure_size_and_units">Figure size and units</a></h2><p>In Makie, figure size and attributes like line widths, font sizes, scatter marker extents, or layout column and row gaps are usually given as plain numbers, without an explicit unit attached. What does it mean to have a <code>Figure</code> with <code>size = (600, 450)</code>, a line with <code>linewidth = 10</code> or a column gap of <code>30</code>?</p><p>The first underlying idea is that, no matter what your final output format is, these numbers are <em>relative</em>. You can expect a <code>linewidth = 10</code> to cover 1/60th of the width <code>600</code> of the <code>Figure</code> and a column gap of <code>30</code> to span 1/20th of the Figure. This holds, no matter if you later export that <code>Figure</code> as an image made out of pixels, or as a vector graphic that doesn't have pixels at all.</p><p>The second idea is that, given some <code>Figure</code>, we want to be able to export an image at arbitrary resolution, or a vector graphic at any size from it, as long as the relative sizes of all elements stay intact. So we need to <em>translate</em> our abstract sizes to real sizes when we render. In Makie, this is done with two scaling factors: <code>px_per_unit</code> for images and <code>pt_per_unit</code> for vector graphics.</p><p>A line with <code>linewidth = 10</code> will be 10 pixels wide if rendered to an image file with <code>px_per_unit = 1</code>. It will be 5 pixels wide if <code>px_per_unit = 0.5</code> and 20 pixels if <code>px_per_unit = 2</code>. A <code>Figure</code> with <code>size = (600, 450)</code> will have 600 x 450 pixels when exported with <code>px_per_unit = 1</code>, 300 x 225 with <code>px_per_unit = 0.5</code> and 1200 x 900 with <code>px_per_unit = 2</code>.</p><p>It works exactly the same for vector graphics, just with a different target unit. A <code>pt</code> or point is a typographic unit that is defined as 1/72 of an inch, which comes out to about 0.353 mm. A line with <code>linewidth = 10</code> will be 10 points wide if rendered to an svg file with <code>pt_per_unit = 1</code>, it will be 5 points wide for <code>pt_per_unit = 0.5</code> and 20 points wide if <code>pt_per_unit = 2</code>. A <code>Figure</code> with <code>size = (600, 450)</code> will be 600 x 450 points in size when exported with <code>pt_per_unit = 1</code>, 300 x 225 with <code>pt_per_unit = 0.5</code> and 1200 x 900 with <code>pt_per_unit = 2</code>.</p><h3 id="defaults_of_px_per_unit_and_pt_per_unit"><a class="header-anchor" href="#defaults_of_px_per_unit_and_pt_per_unit">Defaults of <code>px_per_unit</code> and <code>pt_per_unit</code></a></h3><p>What are the default values of <code>px_per_unit</code> and <code>pt_per_unit</code> in each Makie backend, and why are they set that way?</p><p>Let us start with <code>pt_per_unit</code> because this value is only relevant for one backend, which is CairoMakie. The default value in CairoMakie is <code>pt_per_unit = 0.75</code>. So if you <code>save(figure, "output.svg")</code> a <code>Figure</code> with <code>size = (600, 450)</code>, this comes out as a vector graphic that is 450 x 337.5 pt large.</p><p>Why 0.75 and not simply 1? This has to do with web standards and device-independent pixels. Websites mix vector graphics and images, so they need some way to relate the sizes of both types to each other. In principle, a pixel in an image doesn't have a real-world width. But you don't want the images on your site to shrink relative to the other content when device pixels are small, or grow when device pixels are large. So web browsers don't directly map image pixels to device pixels. Instead, they use a concept called device-independent pixels. If you place an image with 600 x 450 pixels in a website, this image is interpreted by default to be 600 x 450 device-independent pixels wide. One device-independent pixel is defined to be 0.75 pt wide, that's where the factor 0.75 comes in. So an image with 600 x 450 device-independent pixels is the same apparent size as a vector graphic with size 450 x 337.5 pt. On high-resolution screens, browsers then simply render one device-independent pixel with multiple device pixels (for example 2x2 on an Apple Retina display) so that content stays at readable sizes and doesn't look tiny.</p><p>For Makie, we decided that we want our abstract units to match device-independent pixels when used in web contexts, because that's very convenient and easy to predict for the end user. If you have a Jupyter or Pluto notebook, it's nice if a <code>Figure</code> comes out at the same apparent size, no matter if you're currently in CairoMakie's svg mode, or in the bitmap mode of any backend. Therefore, we annotate images with the original <code>Figure</code> size in device-independent pixels, so they are of the same apparent size, no matter what the <code>px_per_unit</code> value and therefore the effective pixel size is. And we give svg files the default scaling factor of 0.75 so that svgs always match images in apparent size.</p><p>Now let us look at the default values for <code>px_per_unit</code>. In CairoMakie, the default is <code>px_per_unit = 2</code>. This means, a <code>Figure</code> with <code>size = (600, 450)</code> will be rendered as a 1200 x 900 pixel image. The reason it isn't <code>px_per_unit = 1</code> is that CairoMakie plots are often embedded in notebooks or websites, or looked at in image viewers or IDEs like VSCode. On websites, you don't know in advance what the pixel density of a reader's display is going to be. And in image viewers and IDEs, people like to zoom in to look at details. To cover these use cases by default, we decided <code>px_per_unit = 2</code> is a good compromise between sharp resolution and appropriate file size. Again, the <em>apparent</em> size of output images in notebooks and websites (wherever the <code>MIME"text/html"</code> type is used) depends only on the <code>size</code>, because the output images are embedded with <code>&lt;img width=$(size[1]) height=$(size[2])</code> no matter what value <code>px_per_unit</code> has.</p><p>In GLMakie, the default behavior is different. Because GLMakie doesn't just produce images, but renders <code>Figure</code>s in interactive native windows, website or image viewer considerations don't apply. If a window covers 600 x 450 pixels of the screen it's displayed on, you want to render your <code>Figure</code> at exactly 600 x 450 pixels resolution. More, and you waste computation time, less, and your image becomes blurry. That doesn't mean however, that <code>px_per_unit</code> is always 1. Rather, <code>px_per_unit</code> automatically adjusts to the scale value of the screen that the window rendering the <code>Figure</code> is currently on. The scale value for a screen is set by the OS. On a high-dpi screen like a MacBook which has a scale factor of 2, a <code>Figure</code> of <code>size = (600, 450)</code> will be rendered with <code>px_per_unit = 2</code> to exactly cover the window's render buffer of size 1200 x 900 pixels. If you place this screen next to a regular monitor of the same physical size but with half the resolution, this monitor should have the scale factor 1 assigned to it by the OS, so that text has the same size on both of them (just sharper on the high-dpi screen). So the same <code>Figure</code> displayed on that monitor will automatically switch to <code>px_per_unit = 1</code> and therefore fill a window buffer of 600 x 450 pixels. You should never have to directly change <code>px_per_unit</code> for a window that is being displayed on a screen. However, you can still increase <code>px_per_unit</code> when saving images, so that your rendered outputs have a higher pixel count for embedding in websites or documents.</p><h3 id="matching_figure_and_font_sizes_to_documents"><a class="header-anchor" href="#matching_figure_and_font_sizes_to_documents">Matching figure and font sizes to documents</a></h3><p>Academic journals usually demand that figures you submit adhere to specific physical dimensions. How can you render Makie figures at exactly the right sizes?</p><p>First, let's look at vector graphics, which are usually desired for documents because they have the best text and line rendering quality at any zoom level. The output unit of vector graphics is always <code>pt</code> in CairoMakie. You can convert to points from inches via <code>1 in == 72 pt</code> and from centimeters via <code>1 cm = 28,3465 pt</code>.</p><p>Let's say your desired output size is 5 x 4 inches and you should use a font size of 12 pt. You multiply 5 x 4 by 72 to get 360 x 288 pt. The size you need to set on your <code>Figure</code> depends on the <code>pt_per_unit</code> value you want to use. When making plots for publications, you should usually just save with <code>pt_per_unit = 1</code>. So in our example, we would use <code>Figure(size = (360, 288))</code> and for text set <code>fontsize = 12</code> to match the 12 pt requirement.</p><p>Pixel images, on the other hand, have no inherent physical size. You can stretch any pixel image over any area in a document that you want, it will just be more or less sharp. If you want to render pixel images, you therefore have to consider what pixel density the journal demands. Usually, this value is given as dots per inch or <code>dpi</code> which is often used interchangeably with pixels per inch or <code>ppi</code>. Let's say we already have the <code>Figure</code> from our previous example with <code>size = (360, 288)</code> and <code>fontsize = 12</code>, but we want to save it as a pixel image for a target dpi or ppi of 600. We can calculate <code>(5, 4) inch .* (600 px / inch) ./ (360, 288)</code>. We only have to do it for one side because our pixels are square, so <code>5 * 600 / 360 == 8.3333</code>. That means the final image saved with <code>px_per_unit = 8.3333</code> has a size of 3000 x 2400 px, which is exactly 600 dpi when placed at a size of 5 x 4 inches.</p><p>We could of course have set up the <code>Figure</code> with <code>size = (3000, 2400)</code> and then saved with <code>px_per_unit = 1</code> to reach the same final size. Then, however, we would have had to calculate the fontsize that would have ended up to match 12 pt at this pixel density. Usually, when preparing figures for journals, it's easiest to use <code>pt</code> as the base unit and set everything up for saving with <code>pt_per_unit = 1</code> which makes font sizes and line widths trivial to understand for a reader of the code.</p><div class="admonition note"><p class="admonition-title">Note</p><p>If you keep the intended physical size of an image constant and increase the dpi by increasing <code>px_per_unit</code>, the size of text and other content relative to the figure will stay constant. However, if you instead try to increase the dpi by increasing the Figure size itself, the relative size of text and other content will shrink. The first option is usually much more convenient, as it keeps the look and layout of the overall figure exactly the same, just with higher resolution.</p></div><div class="page-foot"><div class="copyright">
    Â© Makie.jl. Last modified: May 07, 2024. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
      <p>These docs were autogenerated using Makie: v0.20.10, GLMakie: v0.9.11, CairoMakie: v0.11.12, WGLMakie: v0.9.10</p></div></div></div></div><div class="page__footer"><footer><div class="page__footer-follow"><ul class="social-icons"><li><a href="https://twitter.com/MakiePlots" rel="nofollow noopener noreferrer"><i aria-hidden="true" class="fab fa-fw fa-twitter-square"></i> Twitter</a></li><li><a href="https://github.com/JuliaPlots/Makie.jl" rel="nofollow noopener noreferrer"><i aria-hidden="true" class="fab fa-fw fa-github"></i> GitHub</a></li></ul></div><div class="page__footer-copyright">Â© Makie.jl. Powered by <a href="https://github.com/tlienart/Franklin.jl">Franklin</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div></footer></div></div><script src="../../../versions.js" type="text/javascript"></script><script src="../../siteinfo.js" type="text/javascript"></script><script src="../../libs/warner.js" type="text/javascript"></script><script src="../../libs/navbar.js"></script><link href="../../pagefind/pagefind-ui.css" rel="stylesheet"/><script src="../../pagefind/pagefind-ui.js" type="text/javascript"></script><script>
        window.addEventListener('DOMContentLoaded', (event) => {
            new PagefindUI({
              element: "#makiesearch",
              showImages: false
            });
            new PagefindUI({
              element: "#makiesearch-overlay",
              showImages: false
            });
        });
    </script><script async="" defer="" src="https://api.makie.org/latest.js"></script><noscript><img alt="" referrerpolicy="no-referrer-when-downgrade" src="https://api.makie.org/noscript.gif"/></noscript><script src="../../libs/highlight/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: '    '});</script></body></HTML>